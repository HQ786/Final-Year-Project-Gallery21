"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/user/[id]/posts/[postType]/route";
exports.ids = ["app/api/user/[id]/posts/[postType]/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuser%2F%5Bid%5D%2Fposts%2F%5BpostType%5D%2Froute&page=%2Fapi%2Fuser%2F%5Bid%5D%2Fposts%2F%5BpostType%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2F%5Bid%5D%2Fposts%2F%5BpostType%5D%2Froute.js&appDir=%2FVolumes%2FMySecureSphere%2FFYP%20Code%2Fgallery21-main%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FVolumes%2FMySecureSphere%2FFYP%20Code%2Fgallery21-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuser%2F%5Bid%5D%2Fposts%2F%5BpostType%5D%2Froute&page=%2Fapi%2Fuser%2F%5Bid%5D%2Fposts%2F%5BpostType%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2F%5Bid%5D%2Fposts%2F%5BpostType%5D%2Froute.js&appDir=%2FVolumes%2FMySecureSphere%2FFYP%20Code%2Fgallery21-main%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FVolumes%2FMySecureSphere%2FFYP%20Code%2Fgallery21-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Volumes_MySecureSphere_FYP_Code_gallery21_main_app_api_user_id_posts_postType_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/user/[id]/posts/[postType]/route.js */ \"(rsc)/./app/api/user/[id]/posts/[postType]/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/user/[id]/posts/[postType]/route\",\n        pathname: \"/api/user/[id]/posts/[postType]\",\n        filename: \"route\",\n        bundlePath: \"app/api/user/[id]/posts/[postType]/route\"\n    },\n    resolvedPagePath: \"/Volumes/MySecureSphere/FYP Code/gallery21-main/app/api/user/[id]/posts/[postType]/route.js\",\n    nextConfigOutput,\n    userland: _Volumes_MySecureSphere_FYP_Code_gallery21_main_app_api_user_id_posts_postType_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/user/[id]/posts/[postType]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ1c2VyJTJGJTVCaWQlNUQlMkZwb3N0cyUyRiU1QnBvc3RUeXBlJTVEJTJGcm91dGUmcGFnZT0lMkZhcGklMkZ1c2VyJTJGJTVCaWQlNUQlMkZwb3N0cyUyRiU1QnBvc3RUeXBlJTVEJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGdXNlciUyRiU1QmlkJTVEJTJGcG9zdHMlMkYlNUJwb3N0VHlwZSU1RCUyRnJvdXRlLmpzJmFwcERpcj0lMkZWb2x1bWVzJTJGTXlTZWN1cmVTcGhlcmUlMkZGWVAlMjBDb2RlJTJGZ2FsbGVyeTIxLW1haW4lMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlZvbHVtZXMlMkZNeVNlY3VyZVNwaGVyZSUyRkZZUCUyMENvZGUlMkZnYWxsZXJ5MjEtbWFpbiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDMkM7QUFDeEg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nYWxsZXJ5MjEtd2ViLWFwcC0yLjAvP2Y4MzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1ZvbHVtZXMvTXlTZWN1cmVTcGhlcmUvRllQIENvZGUvZ2FsbGVyeTIxLW1haW4vYXBwL2FwaS91c2VyL1tpZF0vcG9zdHMvW3Bvc3RUeXBlXS9yb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdXNlci9baWRdL3Bvc3RzL1twb3N0VHlwZV0vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS91c2VyL1tpZF0vcG9zdHMvW3Bvc3RUeXBlXVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvdXNlci9baWRdL3Bvc3RzL1twb3N0VHlwZV0vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVm9sdW1lcy9NeVNlY3VyZVNwaGVyZS9GWVAgQ29kZS9nYWxsZXJ5MjEtbWFpbi9hcHAvYXBpL3VzZXIvW2lkXS9wb3N0cy9bcG9zdFR5cGVdL3JvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS91c2VyL1tpZF0vcG9zdHMvW3Bvc3RUeXBlXS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuser%2F%5Bid%5D%2Fposts%2F%5BpostType%5D%2Froute&page=%2Fapi%2Fuser%2F%5Bid%5D%2Fposts%2F%5BpostType%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2F%5Bid%5D%2Fposts%2F%5BpostType%5D%2Froute.js&appDir=%2FVolumes%2FMySecureSphere%2FFYP%20Code%2Fgallery21-main%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FVolumes%2FMySecureSphere%2FFYP%20Code%2Fgallery21-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/user/[id]/posts/[postType]/route.js":
/*!*****************************************************!*\
  !*** ./app/api/user/[id]/posts/[postType]/route.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _models_Post__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @models/Post */ \"(rsc)/./models/Post.js\");\n/* harmony import */ var _utils_database__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @utils/database */ \"(rsc)/./utils/database.js\");\n// app/api/users/[id]/posts/[postType]/route.js\n\n\n\n// GET method: Fetch posts for a user and check if they are liked by the user\nconst GET = async (request, { params })=>{\n    const { id: userId, postType } = params;\n    const url = new URL(request.url); // Parse the full URL\n    const urlParams = new URLSearchParams(url.search); // Get search parameters\n    // Use default values if `page` or `limit` are not provided\n    const page = parseInt(urlParams.get(\"page\")) || 1;\n    const limit = parseInt(urlParams.get(\"limit\")) || 10;\n    try {\n        await (0,_utils_database__WEBPACK_IMPORTED_MODULE_2__.connectToDB)();\n        const posts = await _models_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].aggregate([\n            {\n                $match: {\n                    postType: postType\n                }\n            },\n            {\n                $sort: {\n                    createdAt: -1\n                }\n            },\n            {\n                $skip: (page - 1) * limit\n            },\n            {\n                $limit: parseInt(limit)\n            },\n            {\n                $lookup: {\n                    from: \"likes\",\n                    let: {\n                        postId: \"$_id\"\n                    },\n                    pipeline: [\n                        {\n                            $match: {\n                                $expr: {\n                                    $and: [\n                                        {\n                                            $eq: [\n                                                \"$postId\",\n                                                \"$$postId\"\n                                            ]\n                                        },\n                                        {\n                                            $eq: [\n                                                \"$userId\",\n                                                new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Types).ObjectId(userId)\n                                            ]\n                                        }\n                                    ]\n                                }\n                            }\n                        }\n                    ],\n                    as: \"userLikeStatus\"\n                }\n            },\n            {\n                $addFields: {\n                    isLikedByUser: {\n                        $cond: {\n                            if: {\n                                $gt: [\n                                    {\n                                        $size: \"$userLikeStatus\"\n                                    },\n                                    0\n                                ]\n                            },\n                            then: true,\n                            else: false\n                        }\n                    }\n                }\n            },\n            {\n                $lookup: {\n                    from: \"users\",\n                    localField: \"userId\",\n                    foreignField: \"_id\",\n                    as: \"userDetails\"\n                }\n            },\n            {\n                $addFields: {\n                    username: {\n                        $arrayElemAt: [\n                            \"$userDetails.username\",\n                            0\n                        ]\n                    },\n                    profileImagePath: {\n                        $arrayElemAt: [\n                            \"$userDetails.profileImagePath\",\n                            0\n                        ]\n                    }\n                }\n            },\n            {\n                $project: {\n                    userLikeStatus: 0,\n                    userDetails: 0 // Exclude the userDetails array\n                }\n            }\n        ]);\n        return new Response(JSON.stringify(posts), {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error fetching posts:\", error);\n        return new Response(JSON.stringify({\n            message: \"Failed to fetch posts\",\n            error: error.message\n        }), {\n            status: 500\n        });\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3VzZXIvW2lkXS9wb3N0cy9bcG9zdFR5cGVdL3JvdXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsK0NBQStDO0FBRWY7QUFDQTtBQUNjO0FBRTlDLDZFQUE2RTtBQUN0RSxNQUFNRyxNQUFNLE9BQU9DLFNBQVMsRUFBRUMsTUFBTSxFQUFFO0lBQzNDLE1BQU0sRUFBRUMsSUFBSUMsTUFBTSxFQUFFQyxRQUFRLEVBQUUsR0FBR0g7SUFDakMsTUFBTUksTUFBTSxJQUFJQyxJQUFJTixRQUFRSyxHQUFHLEdBQUcscUJBQXFCO0lBQ3ZELE1BQU1FLFlBQVksSUFBSUMsZ0JBQWdCSCxJQUFJSSxNQUFNLEdBQUcsd0JBQXdCO0lBRTNFLDJEQUEyRDtJQUMzRCxNQUFNQyxPQUFPQyxTQUFTSixVQUFVSyxHQUFHLENBQUMsWUFBWTtJQUNoRCxNQUFNQyxRQUFRRixTQUFTSixVQUFVSyxHQUFHLENBQUMsYUFBYTtJQUVsRCxJQUFJO1FBQ0YsTUFBTWQsNERBQVdBO1FBQ2pCLE1BQU1nQixRQUFRLE1BQU1qQixvREFBSUEsQ0FBQ2tCLFNBQVMsQ0FBQztZQUNqQztnQkFBRUMsUUFBUTtvQkFBRVosVUFBVUE7Z0JBQVM7WUFBRTtZQUNqQztnQkFBRWEsT0FBTztvQkFBRUMsV0FBVyxDQUFDO2dCQUFFO1lBQUU7WUFDM0I7Z0JBQUVDLE9BQU8sQ0FBQ1QsT0FBTyxLQUFLRztZQUFNO1lBQzVCO2dCQUFFTyxRQUFRVCxTQUFTRTtZQUFPO1lBQzFCO2dCQUNFUSxTQUFTO29CQUNQQyxNQUFNO29CQUNOQyxLQUFLO3dCQUFFQyxRQUFRO29CQUFPO29CQUN0QkMsVUFBVTt3QkFDUjs0QkFDRVQsUUFBUTtnQ0FDTlUsT0FBTztvQ0FDTEMsTUFBTTt3Q0FDSjs0Q0FBRUMsS0FBSztnREFBQztnREFBVzs2Q0FBVzt3Q0FBQzt3Q0FDL0I7NENBQUVBLEtBQUs7Z0RBQUM7Z0RBQVcsSUFBSWhDLHVEQUFjLENBQUNrQyxRQUFRLENBQUMzQjs2Q0FBUTt3Q0FBQztxQ0FDekQ7Z0NBQ0g7NEJBQ0Y7d0JBQ0Y7cUJBQ0Q7b0JBQ0Q0QixJQUFJO2dCQUNOO1lBQ0Y7WUFDQTtnQkFDRUMsWUFBWTtvQkFDVkMsZUFBZTt3QkFDYkMsT0FBTzs0QkFDTEMsSUFBSTtnQ0FBRUMsS0FBSztvQ0FBQzt3Q0FBRUMsT0FBTztvQ0FBa0I7b0NBQUc7aUNBQUU7NEJBQUM7NEJBQzdDQyxNQUFNOzRCQUNOQyxNQUFNO3dCQUNSO29CQUNGO2dCQUNGO1lBQ0Y7WUFDQTtnQkFDRWxCLFNBQVM7b0JBQ1BDLE1BQU07b0JBQ05rQixZQUFZO29CQUNaQyxjQUFjO29CQUNkVixJQUFJO2dCQUNOO1lBQ0Y7WUFDQTtnQkFDRUMsWUFBWTtvQkFDVlUsVUFBVTt3QkFBRUMsY0FBYzs0QkFBQzs0QkFBeUI7eUJBQUU7b0JBQUM7b0JBQ3ZEQyxrQkFBa0I7d0JBQUVELGNBQWM7NEJBQUM7NEJBQWlDO3lCQUFFO29CQUFDO2dCQUN6RTtZQUNGO1lBQ0E7Z0JBQ0VFLFVBQVU7b0JBQ1JDLGdCQUFnQjtvQkFDaEJDLGFBQWEsRUFBRSxnQ0FBZ0M7Z0JBQ2pEO1lBQ0Y7U0FDRDtRQUVELE9BQU8sSUFBSUMsU0FBU0MsS0FBS0MsU0FBUyxDQUFDcEMsUUFBUTtZQUFFcUMsUUFBUTtRQUFJO0lBQzNELEVBQUUsT0FBT0MsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMseUJBQXlCQTtRQUN2QyxPQUFPLElBQUlKLFNBQ1RDLEtBQUtDLFNBQVMsQ0FBQztZQUFFSSxTQUFTO1lBQXlCRixPQUFPQSxNQUFNRSxPQUFPO1FBQUMsSUFDeEU7WUFBRUgsUUFBUTtRQUFJO0lBRWxCO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2dhbGxlcnkyMS13ZWItYXBwLTIuMC8uL2FwcC9hcGkvdXNlci9baWRdL3Bvc3RzL1twb3N0VHlwZV0vcm91dGUuanM/NjEzMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhcHAvYXBpL3VzZXJzL1tpZF0vcG9zdHMvW3Bvc3RUeXBlXS9yb3V0ZS5qc1xyXG5cclxuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0IFBvc3QgZnJvbSAnQG1vZGVscy9Qb3N0JztcclxuaW1wb3J0IHsgY29ubmVjdFRvREIgfSBmcm9tICdAdXRpbHMvZGF0YWJhc2UnO1xyXG5cclxuLy8gR0VUIG1ldGhvZDogRmV0Y2ggcG9zdHMgZm9yIGEgdXNlciBhbmQgY2hlY2sgaWYgdGhleSBhcmUgbGlrZWQgYnkgdGhlIHVzZXJcclxuZXhwb3J0IGNvbnN0IEdFVCA9IGFzeW5jIChyZXF1ZXN0LCB7IHBhcmFtcyB9KSA9PiB7XHJcbiAgY29uc3QgeyBpZDogdXNlcklkLCBwb3N0VHlwZSB9ID0gcGFyYW1zO1xyXG4gIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpOyAvLyBQYXJzZSB0aGUgZnVsbCBVUkxcclxuICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHVybC5zZWFyY2gpOyAvLyBHZXQgc2VhcmNoIHBhcmFtZXRlcnNcclxuXHJcbiAgLy8gVXNlIGRlZmF1bHQgdmFsdWVzIGlmIGBwYWdlYCBvciBgbGltaXRgIGFyZSBub3QgcHJvdmlkZWRcclxuICBjb25zdCBwYWdlID0gcGFyc2VJbnQodXJsUGFyYW1zLmdldCgncGFnZScpKSB8fCAxOyBcclxuICBjb25zdCBsaW1pdCA9IHBhcnNlSW50KHVybFBhcmFtcy5nZXQoJ2xpbWl0JykpIHx8IDEwO1xyXG4gICAgXHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IGNvbm5lY3RUb0RCKCk7XHJcbiAgICBjb25zdCBwb3N0cyA9IGF3YWl0IFBvc3QuYWdncmVnYXRlKFtcclxuICAgICAgeyAkbWF0Y2g6IHsgcG9zdFR5cGU6IHBvc3RUeXBlIH0gfSxcclxuICAgICAgeyAkc29ydDogeyBjcmVhdGVkQXQ6IC0xIH0gfSxcclxuICAgICAgeyAkc2tpcDogKHBhZ2UgLSAxKSAqIGxpbWl0IH0sIC8vIFNraXAgYmFzZWQgb24gdGhlIHBhZ2VcclxuICAgICAgeyAkbGltaXQ6IHBhcnNlSW50KGxpbWl0KSB9LCBcclxuICAgICAge1xyXG4gICAgICAgICRsb29rdXA6IHtcclxuICAgICAgICAgIGZyb206ICdsaWtlcycsXHJcbiAgICAgICAgICBsZXQ6IHsgcG9zdElkOiAnJF9pZCcgfSxcclxuICAgICAgICAgIHBpcGVsaW5lOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAkbWF0Y2g6IHtcclxuICAgICAgICAgICAgICAgICRleHByOiB7XHJcbiAgICAgICAgICAgICAgICAgICRhbmQ6IFtcclxuICAgICAgICAgICAgICAgICAgICB7ICRlcTogWyckcG9zdElkJywgJyQkcG9zdElkJ10gfSxcclxuICAgICAgICAgICAgICAgICAgICB7ICRlcTogWyckdXNlcklkJywgbmV3IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkKHVzZXJJZCldIH1cclxuICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXSxcclxuICAgICAgICAgIGFzOiAndXNlckxpa2VTdGF0dXMnXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgJGFkZEZpZWxkczoge1xyXG4gICAgICAgICAgaXNMaWtlZEJ5VXNlcjoge1xyXG4gICAgICAgICAgICAkY29uZDoge1xyXG4gICAgICAgICAgICAgIGlmOiB7ICRndDogW3sgJHNpemU6ICckdXNlckxpa2VTdGF0dXMnIH0sIDBdIH0sXHJcbiAgICAgICAgICAgICAgdGhlbjogdHJ1ZSxcclxuICAgICAgICAgICAgICBlbHNlOiBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgJGxvb2t1cDoge1xyXG4gICAgICAgICAgZnJvbTogJ3VzZXJzJyxcclxuICAgICAgICAgIGxvY2FsRmllbGQ6ICd1c2VySWQnLCAvLyBmaWVsZCBpbiB0aGUgYHBvc3RzYCBjb2xsZWN0aW9uXHJcbiAgICAgICAgICBmb3JlaWduRmllbGQ6ICdfaWQnLCAvLyBmaWVsZCBpbiB0aGUgYHVzZXJzYCBjb2xsZWN0aW9uXHJcbiAgICAgICAgICBhczogJ3VzZXJEZXRhaWxzJ1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgICRhZGRGaWVsZHM6IHtcclxuICAgICAgICAgIHVzZXJuYW1lOiB7ICRhcnJheUVsZW1BdDogWyckdXNlckRldGFpbHMudXNlcm5hbWUnLCAwXSB9LFxyXG4gICAgICAgICAgcHJvZmlsZUltYWdlUGF0aDogeyAkYXJyYXlFbGVtQXQ6IFsnJHVzZXJEZXRhaWxzLnByb2ZpbGVJbWFnZVBhdGgnLCAwXSB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgJHByb2plY3Q6IHtcclxuICAgICAgICAgIHVzZXJMaWtlU3RhdHVzOiAwLCAvLyBFeGNsdWRlIHRoZSB0ZW1wb3JhcnkgZmllbGRcclxuICAgICAgICAgIHVzZXJEZXRhaWxzOiAwIC8vIEV4Y2x1ZGUgdGhlIHVzZXJEZXRhaWxzIGFycmF5XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICBdKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShwb3N0cyksIHsgc3RhdHVzOiAyMDAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHBvc3RzOicsIGVycm9yKTtcclxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXHJcbiAgICAgIEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZTogJ0ZhaWxlZCB0byBmZXRjaCBwb3N0cycsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0pLFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59O1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJQb3N0IiwiY29ubmVjdFRvREIiLCJHRVQiLCJyZXF1ZXN0IiwicGFyYW1zIiwiaWQiLCJ1c2VySWQiLCJwb3N0VHlwZSIsInVybCIsIlVSTCIsInVybFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInNlYXJjaCIsInBhZ2UiLCJwYXJzZUludCIsImdldCIsImxpbWl0IiwicG9zdHMiLCJhZ2dyZWdhdGUiLCIkbWF0Y2giLCIkc29ydCIsImNyZWF0ZWRBdCIsIiRza2lwIiwiJGxpbWl0IiwiJGxvb2t1cCIsImZyb20iLCJsZXQiLCJwb3N0SWQiLCJwaXBlbGluZSIsIiRleHByIiwiJGFuZCIsIiRlcSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJhcyIsIiRhZGRGaWVsZHMiLCJpc0xpa2VkQnlVc2VyIiwiJGNvbmQiLCJpZiIsIiRndCIsIiRzaXplIiwidGhlbiIsImVsc2UiLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwidXNlcm5hbWUiLCIkYXJyYXlFbGVtQXQiLCJwcm9maWxlSW1hZ2VQYXRoIiwiJHByb2plY3QiLCJ1c2VyTGlrZVN0YXR1cyIsInVzZXJEZXRhaWxzIiwiUmVzcG9uc2UiLCJKU09OIiwic3RyaW5naWZ5Iiwic3RhdHVzIiwiZXJyb3IiLCJjb25zb2xlIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/user/[id]/posts/[postType]/route.js\n");

/***/ }),

/***/ "(rsc)/./models/Post.js":
/*!************************!*\
  !*** ./models/Post.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n// models/Post.js\n\nconst ImageDescriptionSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    src: {\n        type: String,\n        required: true\n    },\n    description: {\n        type: String,\n        default: \"\"\n    }\n});\nconst PostSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    title: {\n        type: String,\n        validate: {\n            validator: function() {\n                return this.postType !== \"art\" || this.title && this.title.length > 0;\n            },\n            message: \"Title is required for art posts.\"\n        },\n        trim: true\n    },\n    content: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    userId: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: \"User\",\n        required: true\n    },\n    images: {\n        type: [\n            ImageDescriptionSchema\n        ],\n        validate: {\n            validator: function() {\n                return this.postType !== \"art\" || this.images && this.images.length > 0 && this.images.length <= 6;\n            },\n            message: \"Images are required for art posts and can not exceed 6 images.\"\n        }\n    },\n    communityImages: {\n        type: [\n            String\n        ],\n        default: [],\n        validate: {\n            validator: function(value) {\n                return this.postType !== \"community\" || value.length <= 4 // Allow empty array or up to 4 images\n                ;\n            },\n            message: \"If community images are provided, they cannot exceed 4 images.\"\n        }\n    },\n    gifs: {\n        type: [\n            String\n        ],\n        default: [],\n        validate: {\n            validator: function(value) {\n                return this.postType !== \"community\" || value.length <= 3;\n            },\n            message: \"If community GIFs are provided, they cannot exceed 3 GIFs.\"\n        }\n    },\n    likes: {\n        type: Number,\n        default: 0\n    },\n    postType: {\n        type: String,\n        enum: [\n            \"art\",\n            \"community\"\n        ],\n        required: true\n    },\n    createdAt: {\n        type: Date,\n        default: Date.now\n    },\n    lastUpdated: {\n        type: Date,\n        default: null\n    },\n    flags: [\n        {\n            userId: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n            reason: String,\n            flaggedAt: {\n                type: Date,\n                default: Date.now\n            }\n        }\n    ],\n    isPinned: {\n        type: Boolean,\n        default: false\n    }\n});\n// Create the Post model\nconst Post = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Post || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Post\", PostSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Post);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9tb2RlbHMvUG9zdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxpQkFBaUI7QUFFZTtBQUVoQyxNQUFNQyx5QkFBeUIsSUFBSUQsd0RBQWUsQ0FBQztJQUNqREcsS0FBSztRQUNIQyxNQUFNQztRQUNOQyxVQUFVO0lBQ1o7SUFDQUMsYUFBYTtRQUNYSCxNQUFNQztRQUNORyxTQUFTO0lBQ1g7QUFDRjtBQUVBLE1BQU1DLGFBQWEsSUFBSVQsd0RBQWUsQ0FBQztJQUNyQ1UsT0FBTztRQUNMTixNQUFNQztRQUNOTSxVQUFVO1lBQ1JDLFdBQVc7Z0JBQ1QsT0FBTyxJQUFJLENBQUNDLFFBQVEsS0FBSyxTQUFVLElBQUksQ0FBQ0gsS0FBSyxJQUFJLElBQUksQ0FBQ0EsS0FBSyxDQUFDSSxNQUFNLEdBQUc7WUFDdkU7WUFDQUMsU0FBUztRQUNYO1FBQ0FDLE1BQU07SUFDUjtJQUNBQyxTQUFTO1FBQ1BiLE1BQU1DO1FBQ05DLFVBQVU7UUFDVlUsTUFBTTtJQUNSO0lBQ0FFLFFBQVE7UUFDTmQsTUFBTUosd0RBQWUsQ0FBQ21CLEtBQUssQ0FBQ0MsUUFBUTtRQUNwQ0MsS0FBSztRQUNMZixVQUFVO0lBQ1o7SUFDQWdCLFFBQVE7UUFDTmxCLE1BQU07WUFBQ0g7U0FBdUI7UUFDOUJVLFVBQVU7WUFDUkMsV0FBVztnQkFDVCxPQUFPLElBQUksQ0FBQ0MsUUFBUSxLQUFLLFNBQVUsSUFBSSxDQUFDUyxNQUFNLElBQUksSUFBSSxDQUFDQSxNQUFNLENBQUNSLE1BQU0sR0FBRyxLQUFLLElBQUksQ0FBQ1EsTUFBTSxDQUFDUixNQUFNLElBQUc7WUFDbkc7WUFDQUMsU0FBUztRQUNYO0lBQ0Y7SUFDQVEsaUJBQWlCO1FBQ2ZuQixNQUFNO1lBQUNDO1NBQU87UUFDZEcsU0FBUyxFQUFFO1FBQ1hHLFVBQVU7WUFDUkMsV0FBVyxTQUFVWSxLQUFLO2dCQUN4QixPQUNFLElBQUksQ0FBQ1gsUUFBUSxLQUFLLGVBQ2pCVyxNQUFNVixNQUFNLElBQUksRUFBRyxzQ0FBc0M7O1lBRTlEO1lBQ0FDLFNBQVM7UUFDWDtJQUNGO0lBQ0FVLE1BQU07UUFDSnJCLE1BQU07WUFBQ0M7U0FBTztRQUNkRyxTQUFTLEVBQUU7UUFDWEcsVUFBVTtZQUNSQyxXQUFXLFNBQVVZLEtBQUs7Z0JBQ3hCLE9BQ0UsSUFBSSxDQUFDWCxRQUFRLEtBQUssZUFDakJXLE1BQU1WLE1BQU0sSUFBSTtZQUVyQjtZQUNBQyxTQUFTO1FBQ1g7SUFDRjtJQUNBVyxPQUFPO1FBQ0x0QixNQUFNdUI7UUFDTm5CLFNBQVM7SUFDWDtJQUNBSyxVQUFVO1FBQ1JULE1BQU1DO1FBQ051QixNQUFNO1lBQUM7WUFBTztTQUFZO1FBQzFCdEIsVUFBVTtJQUNaO0lBQ0F1QixXQUFXO1FBQ1R6QixNQUFNMEI7UUFDTnRCLFNBQVNzQixLQUFLQyxHQUFHO0lBQ25CO0lBQ0FDLGFBQWE7UUFDWDVCLE1BQU0wQjtRQUNOdEIsU0FBUztJQUNYO0lBQ0F5QixPQUFPO1FBQ0w7WUFDRWYsUUFBUWxCLHdEQUFlLENBQUNtQixLQUFLLENBQUNDLFFBQVE7WUFDdENjLFFBQVE3QjtZQUNSOEIsV0FBVztnQkFBRS9CLE1BQU0wQjtnQkFBTXRCLFNBQVNzQixLQUFLQyxHQUFHO1lBQUM7UUFDN0M7S0FDRDtJQUNESyxVQUFVO1FBQ1JoQyxNQUFLaUM7UUFDTDdCLFNBQVM7SUFDWDtBQUNGO0FBRUEsd0JBQXdCO0FBQ3hCLE1BQU04QixPQUFPdEMsd0RBQWUsQ0FBQ3NDLElBQUksSUFBSXRDLHFEQUFjLENBQUMsUUFBUVM7QUFFNUQsaUVBQWU2QixJQUFJQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2FsbGVyeTIxLXdlYi1hcHAtMi4wLy4vbW9kZWxzL1Bvc3QuanM/NDZiNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBtb2RlbHMvUG9zdC5qc1xyXG5cclxuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IEltYWdlRGVzY3JpcHRpb25TY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBzcmM6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLCAvLyBVUkwgdG8gdGhlIGltYWdlXHJcbiAgfSxcclxuICBkZXNjcmlwdGlvbjoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogJycsIC8vIERlc2NyaXB0aW9uIGZvciB0aGUgaW1hZ2VcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IFBvc3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICB0aXRsZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgdmFsaWRhdGU6IHtcclxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zdFR5cGUgIT09ICdhcnQnIHx8ICh0aGlzLnRpdGxlICYmIHRoaXMudGl0bGUubGVuZ3RoID4gMCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIG1lc3NhZ2U6ICdUaXRsZSBpcyByZXF1aXJlZCBmb3IgYXJ0IHBvc3RzLicsXHJcbiAgICB9LFxyXG4gICAgdHJpbTogdHJ1ZSxcclxuICB9LFxyXG4gIGNvbnRlbnQ6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgdHJpbTogdHJ1ZSxcclxuICB9LFxyXG4gIHVzZXJJZDoge1xyXG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVmOiAnVXNlcicsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIGltYWdlczoge1xyXG4gICAgdHlwZTogW0ltYWdlRGVzY3JpcHRpb25TY2hlbWFdLFxyXG4gICAgdmFsaWRhdGU6IHtcclxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zdFR5cGUgIT09ICdhcnQnIHx8ICh0aGlzLmltYWdlcyAmJiB0aGlzLmltYWdlcy5sZW5ndGggPiAwICYmIHRoaXMuaW1hZ2VzLmxlbmd0aCA8PTYpO1xyXG4gICAgICB9LFxyXG4gICAgICBtZXNzYWdlOiAnSW1hZ2VzIGFyZSByZXF1aXJlZCBmb3IgYXJ0IHBvc3RzIGFuZCBjYW4gbm90IGV4Y2VlZCA2IGltYWdlcy4nLFxyXG4gICAgfSxcclxuICB9LFxyXG4gIGNvbW11bml0eUltYWdlczoge1xyXG4gICAgdHlwZTogW1N0cmluZ10sXHJcbiAgICBkZWZhdWx0OiBbXSxcclxuICAgIHZhbGlkYXRlOiB7XHJcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIHRoaXMucG9zdFR5cGUgIT09ICdjb21tdW5pdHknIHx8IFxyXG4gICAgICAgICAgKHZhbHVlLmxlbmd0aCA8PSA0KSAvLyBBbGxvdyBlbXB0eSBhcnJheSBvciB1cCB0byA0IGltYWdlc1xyXG4gICAgICAgICk7XHJcbiAgICAgIH0sXHJcbiAgICAgIG1lc3NhZ2U6ICdJZiBjb21tdW5pdHkgaW1hZ2VzIGFyZSBwcm92aWRlZCwgdGhleSBjYW5ub3QgZXhjZWVkIDQgaW1hZ2VzLicsXHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgZ2lmczoge1xyXG4gICAgdHlwZTogW1N0cmluZ10sXHJcbiAgICBkZWZhdWx0OiBbXSxcclxuICAgIHZhbGlkYXRlOiB7XHJcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgIHRoaXMucG9zdFR5cGUgIT09ICdjb21tdW5pdHknIHx8IFxyXG4gICAgICAgICAgKHZhbHVlLmxlbmd0aCA8PSAzKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH0sXHJcbiAgICAgIG1lc3NhZ2U6ICdJZiBjb21tdW5pdHkgR0lGcyBhcmUgcHJvdmlkZWQsIHRoZXkgY2Fubm90IGV4Y2VlZCAzIEdJRnMuJyxcclxuICAgIH0sXHJcbiAgfSxcclxuICBsaWtlczoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMCxcclxuICB9LFxyXG4gIHBvc3RUeXBlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBlbnVtOiBbJ2FydCcsICdjb21tdW5pdHknXSxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcbiAgY3JlYXRlZEF0OiB7XHJcbiAgICB0eXBlOiBEYXRlLFxyXG4gICAgZGVmYXVsdDogRGF0ZS5ub3csXHJcbiAgfSxcclxuICBsYXN0VXBkYXRlZDogeyBcclxuICAgIHR5cGU6IERhdGUsIFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICB9LFxyXG4gIGZsYWdzOiBbXHJcbiAgICB7XHJcbiAgICAgIHVzZXJJZDogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCAvLyBVc2VyIHdobyBmbGFnZ2VkXHJcbiAgICAgIHJlYXNvbjogU3RyaW5nLCAgICAgICAgICAgICAgICAgICAgICAgIC8vICByZWFzb25cclxuICAgICAgZmxhZ2dlZEF0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93IH0sIC8vIFRpbWVzdGFtcFxyXG4gICAgfSxcclxuICBdLFxyXG4gIGlzUGlubmVkOiB7XHJcbiAgICB0eXBlOkJvb2xlYW4sXHJcbiAgICBkZWZhdWx0OiBmYWxzZSxcclxuICB9XHJcbn0pO1xyXG5cclxuLy8gQ3JlYXRlIHRoZSBQb3N0IG1vZGVsXHJcbmNvbnN0IFBvc3QgPSBtb25nb29zZS5tb2RlbHMuUG9zdCB8fCBtb25nb29zZS5tb2RlbCgnUG9zdCcsIFBvc3RTY2hlbWEpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9zdDtcclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiSW1hZ2VEZXNjcmlwdGlvblNjaGVtYSIsIlNjaGVtYSIsInNyYyIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImRlc2NyaXB0aW9uIiwiZGVmYXVsdCIsIlBvc3RTY2hlbWEiLCJ0aXRsZSIsInZhbGlkYXRlIiwidmFsaWRhdG9yIiwicG9zdFR5cGUiLCJsZW5ndGgiLCJtZXNzYWdlIiwidHJpbSIsImNvbnRlbnQiLCJ1c2VySWQiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwiaW1hZ2VzIiwiY29tbXVuaXR5SW1hZ2VzIiwidmFsdWUiLCJnaWZzIiwibGlrZXMiLCJOdW1iZXIiLCJlbnVtIiwiY3JlYXRlZEF0IiwiRGF0ZSIsIm5vdyIsImxhc3RVcGRhdGVkIiwiZmxhZ3MiLCJyZWFzb24iLCJmbGFnZ2VkQXQiLCJpc1Bpbm5lZCIsIkJvb2xlYW4iLCJQb3N0IiwibW9kZWxzIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./models/Post.js\n");

/***/ }),

/***/ "(rsc)/./utils/database.js":
/*!***************************!*\
  !*** ./utils/database.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectToDB: () => (/* binding */ connectToDB)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n// @utils/database.js\n\nlet isConnected = false;\nconst connectToDB = async ()=>{\n    mongoose__WEBPACK_IMPORTED_MODULE_0___default().set(\"strictQuery\", true);\n    if (isConnected) {\n        console.log(\"MongoDB is already connected\");\n        return (mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection);\n    }\n    try {\n        const connection = await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(process.env.MONGODB_URL);\n        isConnected = true;\n        console.log(\"MongoDB connected\");\n        return connection.connection;\n    } catch (error) {\n        console.error(\"Error connecting to MongoDB:\", error);\n        throw new Error(\"Failed to connect to MongoDB\");\n    }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi91dGlscy9kYXRhYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxxQkFBcUI7QUFFVztBQUVoQyxJQUFJQyxjQUFjO0FBRWxCLE1BQU1DLGNBQWM7SUFDbEJGLG1EQUFZLENBQUMsZUFBZTtJQUU1QixJQUFJQyxhQUFhO1FBQ2ZHLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU9MLDREQUFtQjtJQUM1QjtJQUVBLElBQUk7UUFDRixNQUFNTSxhQUFhLE1BQU1OLHVEQUFnQixDQUFDUSxRQUFRQyxHQUFHLENBQUNDLFdBQVc7UUFFakVULGNBQWM7UUFDZEcsUUFBUUMsR0FBRyxDQUFDO1FBRVosT0FBT0MsV0FBV0EsVUFBVTtJQUM5QixFQUFFLE9BQU9LLE9BQU87UUFDZFAsUUFBUU8sS0FBSyxDQUFDLGdDQUFnQ0E7UUFDOUMsTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0FBQ0Y7QUFFdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nYWxsZXJ5MjEtd2ViLWFwcC0yLjAvLi91dGlscy9kYXRhYmFzZS5qcz8yYjllIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB1dGlscy9kYXRhYmFzZS5qc1xyXG5cclxuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmxldCBpc0Nvbm5lY3RlZCA9IGZhbHNlOyBcclxuXHJcbmNvbnN0IGNvbm5lY3RUb0RCID0gYXN5bmMgKCkgPT4ge1xyXG4gIG1vbmdvb3NlLnNldCgnc3RyaWN0UXVlcnknLCB0cnVlKTtcclxuXHJcbiAgaWYgKGlzQ29ubmVjdGVkKSB7XHJcbiAgICBjb25zb2xlLmxvZygnTW9uZ29EQiBpcyBhbHJlYWR5IGNvbm5lY3RlZCcpO1xyXG4gICAgcmV0dXJuIG1vbmdvb3NlLmNvbm5lY3Rpb247XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IG1vbmdvb3NlLmNvbm5lY3QocHJvY2Vzcy5lbnYuTU9OR09EQl9VUkwpO1xyXG5cclxuICAgIGlzQ29ubmVjdGVkID0gdHJ1ZTtcclxuICAgIGNvbnNvbGUubG9nKCdNb25nb0RCIGNvbm5lY3RlZCcpO1xyXG5cclxuICAgIHJldHVybiBjb25uZWN0aW9uLmNvbm5lY3Rpb247XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3RpbmcgdG8gTW9uZ29EQjonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjb25uZWN0IHRvIE1vbmdvREInKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgeyBjb25uZWN0VG9EQiB9O1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJpc0Nvbm5lY3RlZCIsImNvbm5lY3RUb0RCIiwic2V0IiwiY29uc29sZSIsImxvZyIsImNvbm5lY3Rpb24iLCJjb25uZWN0IiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJMIiwiZXJyb3IiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./utils/database.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuser%2F%5Bid%5D%2Fposts%2F%5BpostType%5D%2Froute&page=%2Fapi%2Fuser%2F%5Bid%5D%2Fposts%2F%5BpostType%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2F%5Bid%5D%2Fposts%2F%5BpostType%5D%2Froute.js&appDir=%2FVolumes%2FMySecureSphere%2FFYP%20Code%2Fgallery21-main%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FVolumes%2FMySecureSphere%2FFYP%20Code%2Fgallery21-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();